# é¡µé¢é…ç½®ç›®å½•è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
config/pages/
â”œâ”€â”€ README.md           # æœ¬è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ index.ts            # ç»Ÿä¸€å¯¼å‡ºå…¥å£
â”œâ”€â”€ home.ts             # é¦–é¡µé…ç½® (/)
â”œâ”€â”€ home/               # é¦–é¡µæ¨¡å—åŒ–é…ç½®
â”‚   â”œâ”€â”€ types.ts        # é¦–é¡µç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ schema.ts       # é¦–é¡µæ•°æ®Schema
â”‚   â””â”€â”€ index.ts        # é¦–é¡µé…ç½®å¯¼å‡º
â”œâ”€â”€ strategy.ts         # æ”»ç•¥åˆ—è¡¨é¡µé…ç½® (/strategy)
â”œâ”€â”€ special.ts          # ç‰¹æƒ æ¸¸æˆåˆ—è¡¨é¡µé…ç½® (/special)
â”œâ”€â”€ articles.ts         # èµ„è®¯åˆ—è¡¨é¡µé…ç½® (/articles)
â”œâ”€â”€ games.ts            # æ¸¸æˆåˆ—è¡¨é¡µé…ç½® (/games)
â”œâ”€â”€ boxes.ts            # æ¸¸æˆç›’å­åˆ—è¡¨é¡µé…ç½® (/boxes)
â”œâ”€â”€ boxes/              # æ¸¸æˆç›’å­æ¨¡å—åŒ–é…ç½®
â”‚   â””â”€â”€ schema.ts       # æ¸¸æˆç›’å­æ•°æ®Schema
â”œâ”€â”€ detail.ts           # è¯¦æƒ…é¡µé…ç½® (/article/[slug], /strategy/[slug], /special/[slug])
â”œâ”€â”€ article/            # æ–‡ç« è¯¦æƒ…æ¨¡å—åŒ–é…ç½®
â”‚   â””â”€â”€ schema.ts       # æ–‡ç« è¯¦æƒ…æ•°æ®Schema
â””â”€â”€ search.ts           # æœç´¢é¡µé…ç½® (/search)
```

## ğŸ¯ è®¾è®¡ç†å¿µ

### æŒ‰è·¯ç”±ç»„ç»‡é…ç½®
æ¯ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åä¸è·¯ç”±è·¯å¾„å¯¹åº”ï¼Œä¾¿äºæŸ¥æ‰¾å’Œç»´æŠ¤ã€‚

### æ¨¡å—åŒ–æ¶æ„
å¤æ‚é¡µé¢ï¼ˆå¦‚é¦–é¡µï¼‰é‡‡ç”¨æ¨¡å—åŒ–ç›®å½•ç»“æ„ï¼Œå°†é…ç½®ã€ç±»å‹ã€Schemaåˆ†ç¦»åˆ°ç‹¬ç«‹æ–‡ä»¶ä¸­ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼š
- `home/` - é¦–é¡µæ¨¡å—ï¼ˆåŒ…å« types.ts, schema.ts, index.tsï¼‰
- `boxes/` - æ¸¸æˆç›’å­æ¨¡å—ï¼ˆåŒ…å« schema.tsï¼‰
- `article/` - æ–‡ç« è¯¦æƒ…æ¨¡å—ï¼ˆåŒ…å« schema.tsï¼‰

### æ•°æ®ä¸UIåˆ†ç¦»
- **é…ç½®å±‚** (`config/pages/`): ç®¡ç†é¡µé¢çš„æ–‡æ¡ˆã€æ ·å¼ã€å¸ƒå±€ç­‰UIé…ç½®
- **Schemaå±‚** (`config/pages/*/schema.ts`): å®šä¹‰é¡µé¢æ•°æ®è·å–é€»è¾‘
- **æ•°æ®å±‚** (`lib/fetchPageData`): ç»Ÿä¸€çš„æ•°æ®è·å–å¼•æ“
- **å±•ç¤ºå±‚** (`app/`): çº¯å±•ç¤ºç»„ä»¶ï¼Œæ¶ˆè´¹é…ç½®å’Œæ•°æ®

### ç±»å‹å®‰å…¨
æ‰€æœ‰é…ç½®å’ŒSchemaéƒ½æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œç¡®ä¿é…ç½®æ­£ç¡®æ€§ã€‚

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯¦è§£

### 1. ç±»å‹å®šä¹‰

é¡µé¢é…ç½®çš„ TypeScript ç±»å‹å®šä¹‰åˆ†æ•£åœ¨å„æ¨¡å—ä¸­ï¼š

- `home/types.ts` - é¦–é¡µç›¸å…³ç±»å‹ï¼ˆHomePageConfig, HomeHeroConfig, HomeStatsConfigç­‰ï¼‰
- å„é…ç½®æ–‡ä»¶å†…åµŒç±»å‹ - åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µã€æœç´¢é¡µç­‰é…ç½®ç±»å‹

**é¦–é¡µç±»å‹ç¤ºä¾‹ï¼š**
```typescript
import { HomePageConfig } from '@/config/pages/home/types'
```

### 2. index.ts - ç»Ÿä¸€å¯¼å‡º

- å¯¼å‡ºæ‰€æœ‰é…ç½®ç±»å‹
- å¯¼å‡ºå„é¡µé¢çš„é»˜è®¤é…ç½®
- æä¾›é…ç½®è·å–å‡½æ•°
- æ”¯æŒä»åç«¯APIåŠ¨æ€åŠ è½½é…ç½®

### 3. home/ - é¦–é¡µæ¨¡å—åŒ–é…ç½®

**è·¯ç”±:** `/`

**ç›®å½•ç»“æ„:**
```
home/
â”œâ”€â”€ types.ts    # ç±»å‹å®šä¹‰ï¼ˆHomePageConfig, HomeHeroConfigç­‰ï¼‰
â”œâ”€â”€ schema.ts   # æ•°æ®è·å–Schemaï¼ˆå®šä¹‰é¦–é¡µéœ€è¦çš„æ•°æ®ï¼‰
â””â”€â”€ index.ts    # é…ç½®å¯¼å‡º
```

**é…ç½®é¡¹ (home.ts):**
```typescript
{
  hero: {              // HeroåŒºåŸŸ
    badge: string
    title: string
    highlightText: string
    description: string[]
    primaryButton: { text, href }
    secondaryButton: { text, href }
  },
  stats: [             // ç»Ÿè®¡æ•°æ®
    { label, value, icon }
  ],
  sections: {          // å†…å®¹åŒºå—
    strategy: { ... }
    special: { ... }   // ç‰¹æƒ æ¸¸æˆï¼ˆåŸç ´è§£æ¸¸æˆï¼‰
  },
  metadata: {          // SEOå…ƒæ•°æ®
    title: string
    description: string
    keywords: string[]
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹:**
```typescript
import { getHomePageConfig } from '@/config'

const config = await getHomePageConfig()
```

### 4. strategy.ts - æ”»ç•¥åˆ—è¡¨é¡µé…ç½®

**è·¯ç”±:** `/strategy`

**é…ç½®é¡¹:**
- HeroåŒºåŸŸï¼ˆæ ‡é¢˜ã€æè¿°ã€å¾½ç« ï¼‰
- ç­›é€‰å™¨ï¼ˆæ¸¸æˆåˆ†ç±»ã€éš¾åº¦ç­‰ï¼‰
- æ’åºé€‰é¡¹
- åˆ†é¡µè®¾ç½®
- å¡ç‰‡å±•ç¤ºé…ç½®
- SEOå…ƒæ•°æ®

**ä½¿ç”¨ç¤ºä¾‹:**
```typescript
import { getListPageConfig } from '@/config'

const config = await getListPageConfig('strategy')
```

### 5. special.ts - ç‰¹æƒ æ¸¸æˆåˆ—è¡¨é¡µé…ç½®

**è·¯ç”±:** `/special`

**é…ç½®é¡¹:**
- HeroåŒºåŸŸï¼ˆæ ‡é¢˜ã€æè¿°ã€å¾½ç« ï¼‰
- ç­›é€‰å™¨ï¼ˆæ¸¸æˆç±»å‹ã€æŠ˜æ‰£åŠ›åº¦ç­‰ï¼‰
- æ’åºé€‰é¡¹
- åˆ†é¡µè®¾ç½®
- å¡ç‰‡å±•ç¤ºé…ç½®
- SEOå…ƒæ•°æ®

### 6. articles.ts - èµ„è®¯åˆ—è¡¨é¡µé…ç½®

**è·¯ç”±:** `/articles`

**é…ç½®é¡¹:**
- HeroåŒºåŸŸ
- ç­›é€‰å™¨ï¼ˆèµ„è®¯åˆ†ç±»ï¼‰
- æ’åºé€‰é¡¹
- åˆ†é¡µè®¾ç½®
- å¡ç‰‡å±•ç¤ºé…ç½®
- SEOå…ƒæ•°æ®

### 7. games.ts - æ¸¸æˆåˆ—è¡¨é¡µé…ç½®

**è·¯ç”±:** `/games`

**é…ç½®é¡¹:**
- HeroåŒºåŸŸ
- ç­›é€‰å™¨ï¼ˆæ¸¸æˆç±»å‹ã€å¹³å°ï¼‰
- æ’åºé€‰é¡¹
- åˆ†é¡µè®¾ç½®
- å¡ç‰‡å±•ç¤ºé…ç½®
- SEOå…ƒæ•°æ®

### 8. boxes.ts - æ¸¸æˆç›’å­åˆ—è¡¨é¡µé…ç½®

**è·¯ç”±:** `/boxes`

**é…ç½®é¡¹:**
- HeroåŒºåŸŸ
- ç­›é€‰å™¨ï¼ˆç›’å­ç±»å‹ã€æŠ˜æ‰£åŠ›åº¦ï¼‰
- æ’åºé€‰é¡¹
- åˆ†é¡µè®¾ç½®
- å¡ç‰‡å±•ç¤ºé…ç½®
- SEOå…ƒæ•°æ®

### 9. detail.ts - è¯¦æƒ…é¡µé…ç½®

**è·¯ç”±:** `/article/[slug]`, `/strategy/[slug]`, `/special/[slug]`

**é…ç½®é¡¹:**
```typescript
{
  breadcrumb: { enabled }       // é¢åŒ…å±‘å¯¼èˆª
  toc: { enabled, position }    // ç›®å½•
  sidebar: {                    // ä¾§è¾¹æ 
    enabled, position,
    showRelated, showHot, showCategories
  }
  share: {                      // åˆ†äº«åŠŸèƒ½
    enabled,
    platforms: ['wechat', 'weibo', ...]
  }
  comments: {                   // è¯„è®ºåŠŸèƒ½
    enabled,
    provider: 'giscus'
  }
  metadata: {                   // å…ƒæ•°æ®å±•ç¤º
    showAuthor, showDate, showViews,
    showReadingTime, showTags
  }
}
```

### 10. search.ts - æœç´¢é¡µé…ç½®

**è·¯ç”±:** `/search`

**é…ç½®é¡¹:**
- æœç´¢æ¡†å ä½ç¬¦
- çƒ­é—¨å…³é”®è¯
- æœ€è¿‘æœç´¢è®¾ç½®
- ç­›é€‰åŠŸèƒ½
- æœç´¢ç»“æœå±•ç¤º
- SEOå…ƒæ•°æ®

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. ä¿®æ”¹æœ¬åœ°é…ç½®

ç›´æ¥ç¼–è¾‘å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼š

```typescript
// config/pages/home.ts
export const homeConfig: HomePageConfig = {
  hero: {
    badge: 'ä½ çš„å¾½ç« æ–‡æœ¬',
    title: 'ä½ çš„ä¸»æ ‡é¢˜',
    highlightText: 'é«˜äº®æ–‡æœ¬',
    // ...
  },
  // ...
}
```

### 2. åœ¨é¡µé¢ä¸­ä½¿ç”¨é…ç½®

```typescript
// app/page.tsx
import { getHomePageConfig } from '@/config'

export default async function HomePage() {
  const config = await getHomePageConfig()
  
  return (
    <div>
      <h1>{config.hero.title}</h1>
      <p>{config.hero.description[0]}</p>
    </div>
  )
}
```

### 3. ä»åç«¯APIåŠ¨æ€åŠ è½½

åœ¨ `config/pages/index.ts` ä¸­å®ç° API è°ƒç”¨ï¼š

```typescript
export async function getHomePageConfig(
  options: ConfigFetchOptions = {}
): Promise<HomePageConfig> {
  try {
    const response = await fetch(
      `${process.env.NEXT_PUBLIC_API_URL}/api/config/homepage`,
      {
        next: { revalidate: 1800 } // 30åˆ†é’Ÿç¼“å­˜
      }
    )
    
    if (response.ok) {
      const result = await response.json()
      if (result.code === 200) {
        // åˆå¹¶åç«¯é…ç½®å’Œé»˜è®¤é…ç½®
        return { ...homeConfig, ...result.data }
      }
    }
    
    return homeConfig
  } catch (error) {
    console.error('è·å–é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®:', error)
    return homeConfig
  }
}
```

## ğŸ“ é…ç½®ä¿®æ”¹æµç¨‹

### æ–¹å¼ä¸€ï¼šä¿®æ”¹æœ¬åœ°é…ç½®ï¼ˆå¿«é€Ÿï¼‰

1. æ‰¾åˆ°å¯¹åº”é¡µé¢çš„é…ç½®æ–‡ä»¶
2. ä¿®æ”¹é…ç½®å¯¹è±¡
3. ä¿å­˜æ–‡ä»¶ï¼ŒNext.js è‡ªåŠ¨çƒ­æ›´æ–°

### æ–¹å¼äºŒï¼šé€šè¿‡åç«¯APIï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

1. å®ç°åç«¯é…ç½®APIæ¥å£
2. åœ¨ç®¡ç†åå°ä¿®æ”¹é…ç½®
3. å‰ç«¯è‡ªåŠ¨è·å–æœ€æ–°é…ç½®

## ğŸ¨ é…ç½®ç¤ºä¾‹

### ä¿®æ”¹é¦–é¡µHeroåŒºåŸŸ

```typescript
// config/pages/home.ts
hero: {
  badge: '2025 æœ€æ–°ç‰ˆ',
  title: 'å‘ç°æœ€å¥½ç©çš„',
  highlightText: 'æ‰‹æ¸¸',
  description: [
    'æ±‡é›†å…¨ç½‘çƒ­é—¨æ‰‹æ¸¸',
    'å¤©å¤©éƒ½æœ‰æ–°æ¸¸æˆ'
  ],
  primaryButton: {
    text: 'ç«‹å³ä¸‹è½½',
    href: '/games'
  },
  secondaryButton: {
    text: 'æŸ¥çœ‹æ”»ç•¥',
    href: '/strategy'
  }
}
```

### ä¿®æ”¹åˆ—è¡¨é¡µç­›é€‰å™¨

```typescript
// config/pages/strategy.ts
filter: {
  enabled: true,
  filters: [
    {
      key: 'category',
      label: 'æ¸¸æˆåˆ†ç±»',
      type: 'select',
      options: [
        { label: 'å…¨éƒ¨', value: 'all' },
        { label: 'RPG', value: 'rpg' },
        // æ·»åŠ æ›´å¤šé€‰é¡¹...
      ]
    }
  ]
}
```

### ä¿®æ”¹è¯¦æƒ…é¡µä¾§è¾¹æ 

```typescript
// config/pages/detail.ts
sidebar: {
  enabled: true,
  position: 'right',
  showRelated: true,      // æ˜¾ç¤ºç›¸å…³æ–‡ç« 
  showHot: true,          // æ˜¾ç¤ºçƒ­é—¨æ–‡ç« 
  showCategories: false   // ä¸æ˜¾ç¤ºåˆ†ç±»
}
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. å¤šè¯­è¨€æ”¯æŒ

```typescript
const config = await getHomePageConfig({ locale: 'en-US' })
```

### 2. ç¦ç”¨ç¼“å­˜

```typescript
const config = await getHomePageConfig({ cache: false })
```

### 3. è‡ªå®šä¹‰ç¼“å­˜æ—¶é—´

```typescript
const config = await getHomePageConfig({ cacheTime: 3600 }) // 1å°æ—¶
```

### 4. æ ¹æ®è·¯ç”±è·å–é…ç½®

```typescript
import { getPageConfig } from '@/config'

const config = getPageConfig('/strategy')
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å›¾æ ‡åç§°**: å¿…é¡»æ˜¯ Lucide Icons æ”¯æŒçš„å›¾æ ‡åç§°
2. **é“¾æ¥è·¯å¾„**: href å¿…é¡»æ˜¯æœ‰æ•ˆçš„è·¯ç”±è·¯å¾„
3. **æ•°ç»„é•¿åº¦**: description æ•°ç»„å»ºè®®ä¸è¶…è¿‡3ä¸ªå…ƒç´ 
4. **å¾½ç« æ–‡æœ¬**: å»ºè®®ç®€çŸ­ï¼Œä¸è¶…è¿‡20ä¸ªå­—ç¬¦
5. **ä¿®æ”¹å**: Next.js å¼€å‘æ¨¡å¼ä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦é‡æ–°æ„å»º

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Next.js é…ç½®æŒ‡å—](../Next-web/é…ç½®æŒ‡å—.md)
- [é¦–é¡µé…ç½®ç³»ç»Ÿä½¿ç”¨æŒ‡å—](../../../docs/Next-web/docs/home-config-guide.md)
- [åç«¯é…ç½®APIå®ç°](../../../docs/Development/é¦–é¡µé…ç½®åç«¯å®ç°.md)
- [é…ç½®ç®¡ç†å‰ç«¯å®ç°](../../../docs/Development/é¦–é¡µé…ç½®ç®¡ç†å‰ç«¯.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ·»åŠ æ–°çš„é¡µé¢é…ç½®ï¼š

1. åœ¨ `types.ts` ä¸­å®šä¹‰æ–°çš„é…ç½®ç±»å‹
2. åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `newpage.ts`ï¼‰
3. åœ¨ `index.ts` ä¸­å¯¼å‡ºé…ç½®
4. æ›´æ–°æœ¬ README æ–‡æ¡£
5. åœ¨å¯¹åº”çš„é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨é…ç½®

## ğŸ› é—®é¢˜æ’æŸ¥

### é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ

1. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤å·²åœ¨ `index.ts` ä¸­å¯¼å‡º
3. æ£€æŸ¥é¡µé¢ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥é…ç½®
4. æ¸…é™¤ Next.js ç¼“å­˜ï¼š`rm -rf .next`

### TypeScript ç±»å‹é”™è¯¯ï¼Ÿ

1. ç¡®è®¤é…ç½®å¯¹è±¡ç¬¦åˆç±»å‹å®šä¹‰
2. æ£€æŸ¥å¿…å¡«å­—æ®µæ˜¯å¦å®Œæ•´
3. è¿è¡Œ `npm run type-check` æ£€æŸ¥ç±»å‹

### çƒ­æ›´æ–°ä¸å·¥ä½œï¼Ÿ

1. é‡å¯å¼€å‘æœåŠ¡å™¨
2. æ£€æŸ¥æ–‡ä»¶ä¿å­˜æ˜¯å¦æˆåŠŸ
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
