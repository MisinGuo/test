# å¿«é€Ÿå¼€å§‹ - å†…å®¹ä¸­å¿ƒ

> å¦‚ä½•å¿«é€Ÿæ¥å…¥ç»Ÿä¸€çš„å†…å®¹ä¸­å¿ƒæ¨¡å—

## ğŸš€ å‰ç«¯å·²å®Œæˆ

### 1. è®¿é—®å†…å®¹ä¸­å¿ƒ

å‰ç«¯é¡µé¢å·²åˆ›å»ºå®Œæˆ,å¯ä»¥ç›´æ¥è®¿é—®:

```
# æœ¬åœ°å¼€å‘ç¯å¢ƒ
http://localhost:3000/content                    # æ‰€æœ‰å†…å®¹
http://localhost:3000/content?section=guides     # æ”»ç•¥ç±»
http://localhost:3000/content?section=news       # èµ„è®¯ç±»
http://localhost:3000/content?section=reviews    # è¯„æµ‹ç±»
http://localhost:3000/content/{id}               # å†…å®¹è¯¦æƒ…
```

### 2. å¯¼èˆªå·²æ›´æ–°

å¯¼èˆªæ ä¼šæ˜¾ç¤º"å†…å®¹ä¸­å¿ƒ"é“¾æ¥(å–ä»£åŸæ¥çš„"æ”»ç•¥"å’Œ"èµ„è®¯"):

```tsx
// ä¸­æ–‡: å†…å®¹ä¸­å¿ƒ
// ç¹ä½“: å…§å®¹ä¸­å¿ƒ  
// è‹±æ–‡: Content
```

## ğŸ”§ åç«¯éœ€è¦åšçš„äº‹

### ç¬¬ä¸€æ­¥: æ·»åŠ æ•°æ®åº“å­—æ®µ (5åˆ†é’Ÿ)

```sql
-- åœ¨æ”»ç•¥æ–‡ç« è¡¨æ·»åŠ æ¿å—å­—æ®µ
ALTER TABLE gb_strategy_article 
ADD COLUMN section VARCHAR(50) COMMENT 'å†…å®¹æ¿å—ç±»å‹' AFTER category_id;

-- æ·»åŠ ç´¢å¼•
CREATE INDEX idx_section ON gb_strategy_article(section);
```

### ç¬¬äºŒæ­¥: ä¿®æ”¹æŸ¥è¯¢æ¥å£ (10åˆ†é’Ÿ)

åœ¨ç°æœ‰çš„æ”»ç•¥æŸ¥è¯¢æ¥å£æ·»åŠ sectionå‚æ•°æ”¯æŒ:

```java
// StrategyArticleController.java

@GetMapping("/api/public/strategy-articles")
public TableDataInfo list(
    @RequestParam(required = false) String locale,
    @RequestParam(required = false) Long categoryId,
    @RequestParam(required = false) String section,  // ğŸ‘ˆ æ–°å¢å‚æ•°
    @RequestParam(defaultValue = "1") Integer pageNum,
    @RequestParam(defaultValue = "10") Integer pageSize
) {
    startPage();
    List<StrategyArticle> list = strategyArticleService.selectArticleList(
        locale, categoryId, section  // ğŸ‘ˆ ä¼ é€’sectionå‚æ•°
    );
    return getDataTable(list);
}
```

### ç¬¬ä¸‰æ­¥: æ›´æ–°Serviceå’ŒMapper (10åˆ†é’Ÿ)

```xml
<!-- StrategyArticleMapper.xml -->
<select id="selectArticleList" resultMap="StrategyArticleResult">
    SELECT * FROM gb_strategy_article
    WHERE del_flag = '0'
    <if test="section != null and section != ''">
        AND section = #{section}  <!-- ğŸ‘ˆ æ–°å¢æ¡ä»¶ -->
    </if>
    <if test="categoryId != null">
        AND category_id = #{categoryId}
    </if>
    <if test="locale != null and locale != ''">
        AND (locale = #{locale} OR locale IS NULL)
    </if>
    ORDER BY create_time DESC
</select>
```

### ç¬¬å››æ­¥: æ ‡è®°ç°æœ‰æ•°æ® (å¯é€‰,10-30åˆ†é’Ÿ)

è¿è¡ŒSQLæ‰¹é‡æ ‡è®°ç°æœ‰æ–‡ç« çš„æ¿å—ç±»å‹:

```sql
-- æ ‡è®°æ–°æ‰‹æ”»ç•¥
UPDATE gb_strategy_article 
SET section = 'guide_beginner'
WHERE (title LIKE '%æ–°æ‰‹%' OR title LIKE '%å…¥é—¨%' OR title LIKE '%å¼€å±€%')
  AND section IS NULL;

-- æ ‡è®°ç‰ˆæœ¬æ›´æ–°èµ„è®¯
UPDATE gb_strategy_article 
SET section = 'news_update'
WHERE (title LIKE '%ç‰ˆæœ¬%' OR title LIKE '%æ›´æ–°%' OR title LIKE '%è¡¥ä¸%')
  AND section IS NULL;

-- æ ‡è®°æ¸¸æˆè¯„æµ‹
UPDATE gb_strategy_article 
SET section = 'review'
WHERE (title LIKE '%è¯„æµ‹%' OR title LIKE '%æµ‹è¯„%' OR title LIKE '%ä½“éªŒ%')
  AND section IS NULL;

-- å…¶ä»–æœªæ ‡è®°çš„é»˜è®¤ä¸ºè¿›é˜¶æ”»ç•¥
UPDATE gb_strategy_article 
SET section = 'guide_advanced'
WHERE section IS NULL;
```

## âœ… æµ‹è¯•éªŒè¯

### 1. æµ‹è¯•APIæ¥å£

```bash
# æµ‹è¯•æ— sectionå‚æ•°(è¿”å›æ‰€æœ‰)
curl "http://localhost:8080/api/public/strategy-articles?locale=zh-CN&pageNum=1&pageSize=10"

# æµ‹è¯•æŒ‡å®šsection
curl "http://localhost:8080/api/public/strategy-articles?locale=zh-CN&section=guide_beginner&pageNum=1&pageSize=10"

# æµ‹è¯•æ”»ç•¥ç±»(å¤šä¸ªsection)
curl "http://localhost:8080/api/public/strategy-articles?locale=zh-CN&section=guides&pageNum=1&pageSize=10"
```

### 2. æµ‹è¯•å‰ç«¯é¡µé¢

```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd Next-web
pnpm dev

# è®¿é—®æµ‹è¯•
# http://localhost:3000/content
# http://localhost:3000/content?section=guides
# http://localhost:3000/content?section=guide_beginner
```

## ğŸ“ æ¿å—ç±»å‹é€ŸæŸ¥

åˆ›å»ºæˆ–ç¼–è¾‘æ–‡ç« æ—¶,è®¾ç½®å¯¹åº”çš„sectionå€¼:

### æ”»ç•¥ç±»
- `guide_beginner` - æ–°æ‰‹æ”»ç•¥ (å…¥é—¨ã€å¼€å±€ã€æ–°æ‰‹å‘)
- `guide_advanced` - è¿›é˜¶æ”»ç•¥ (é«˜é˜¶ç©æ³•ã€æ·±åº¦æ”»ç•¥)
- `guide_pvp` - PVPæ”»ç•¥ (ç«æŠ€åœºã€å¯¹æˆ˜)
- `guide_lineup` - é˜µå®¹æ”»ç•¥ (è§’è‰²æ­é…ã€é˜Ÿä¼)
- `guide_development` - å…»æˆæ”»ç•¥ (è§’è‰²åŸ¹å…»ã€èµ„æº)

### èµ„è®¯ç±»
- `news_update` - ç‰ˆæœ¬æ›´æ–° (ç‰ˆæœ¬ã€æ›´æ–°ã€è¡¥ä¸)
- `news_event` - æ´»åŠ¨èµ„è®¯ (æ´»åŠ¨ã€ç¦åˆ©)
- `news_industry` - è¡Œä¸šåŠ¨æ€ (è¡Œä¸šæ–°é—»)

### è¯„æµ‹ç±»
- `review` - æ¸¸æˆè¯„æµ‹ (è¯„æµ‹ã€æµ‹è¯„ã€ä½“éªŒ)
- `comparison` - æ¨ªå‘å¯¹æ¯” (å¯¹æ¯”ã€PK)

### ä¸“é¢˜ç±»
- `topic` - ä¸“é¢˜åˆé›† (ä¸“é¢˜ã€ç›˜ç‚¹ã€æ¨è)

## ğŸ¨ ç®¡ç†åå°å»ºè®®

å¦‚æœæœ‰ç®¡ç†åå°,å¯ä»¥æ·»åŠ sectionå­—æ®µçš„ä¸‹æ‹‰é€‰æ‹©:

```html
<select name="section">
  <optgroup label="æ”»ç•¥ç±»">
    <option value="guide_beginner">æ–°æ‰‹æ”»ç•¥</option>
    <option value="guide_advanced">è¿›é˜¶æ”»ç•¥</option>
    <option value="guide_pvp">PVPæ”»ç•¥</option>
    <option value="guide_lineup">é˜µå®¹æ”»ç•¥</option>
    <option value="guide_development">å…»æˆæ”»ç•¥</option>
  </optgroup>
  <optgroup label="èµ„è®¯ç±»">
    <option value="news_update">ç‰ˆæœ¬æ›´æ–°</option>
    <option value="news_event">æ´»åŠ¨èµ„è®¯</option>
    <option value="news_industry">è¡Œä¸šåŠ¨æ€</option>
  </optgroup>
  <optgroup label="è¯„æµ‹ç±»">
    <option value="review">æ¸¸æˆè¯„æµ‹</option>
    <option value="comparison">æ¨ªå‘å¯¹æ¯”</option>
  </optgroup>
  <optgroup label="ä¸“é¢˜ç±»">
    <option value="topic">ä¸“é¢˜åˆé›†</option>
  </optgroup>
</select>
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: ç°æœ‰æ–‡ç« ä¼šå—å½±å“å—?
A: ä¸ä¼šã€‚sectionå­—æ®µä¸ºå¯é€‰,æœªè®¾ç½®sectionçš„æ–‡ç« ä¼šæ˜¾ç¤ºåœ¨"å…¨éƒ¨"æ ‡ç­¾ä¸‹ã€‚

### Q: éœ€è¦è¿ç§»æ•°æ®å—?
A: å¯é€‰ã€‚å¯ä»¥é€šè¿‡SQLæ‰¹é‡æ ‡è®°,ä¹Ÿå¯ä»¥åœ¨åå°é€æ­¥ç¼–è¾‘ã€‚

### Q: sectionå‚æ•°ä¸ä¼ ä¼šæ€æ ·?
A: è¿”å›æ‰€æœ‰æ–‡ç« ,ä¸åŸæ¥çš„è¡Œä¸ºä¸€è‡´,ä¿æŒå‘åå…¼å®¹ã€‚

### Q: å‰ç«¯å¦‚ä½•ç­›é€‰å¤šä¸ªsection?
A: å‰ç«¯å·²å¤„ç†,ä¾‹å¦‚ `section=guides` ä¼šè‡ªåŠ¨åŒ…å«æ‰€æœ‰æ”»ç•¥ç±»çš„æ¿å—ã€‚

### Q: å¯ä»¥æ·»åŠ æ–°çš„æ¿å—å—?
A: å¯ä»¥ã€‚åœ¨ `/src/config/pages/content.ts` çš„ `ContentSection` æšä¸¾ä¸­æ·»åŠ ,å¹¶é…ç½®å¯¹åº”çš„æ˜¾ç¤ºä¿¡æ¯ã€‚

## ğŸ“ éœ€è¦å¸®åŠ©?

- æŸ¥çœ‹å®Œæ•´æ–‡æ¡£: [å†…å®¹ä¸­å¿ƒå®æ–½æ–‡æ¡£](./å†…å®¹ä¸­å¿ƒå®æ–½æ–‡æ¡£.md)
- æŸ¥çœ‹ç»¼åˆè§„åˆ’: [ç»¼åˆç«™å®Œå–„è§„åˆ’](./ç»¼åˆç«™å®Œå–„è§„åˆ’.md)

---

*é¢„è®¡åç«¯å®æ–½æ—¶é—´: 30-60åˆ†é’Ÿ*
