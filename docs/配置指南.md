# Next-web å¿«é€Ÿé…ç½®æŒ‡å—

## ğŸš€ 3æ­¥å®Œæˆåç«¯æ¥å…¥

### æ­¥éª¤1ï¼šè·å–ç«™ç‚¹IDå’ŒAPIåœ°å€

1. ç™»å½•æ¸¸æˆæ¨å¹¿ç®¡ç†åå°
2. è¿›å…¥ **ç«™ç‚¹ç®¡ç†**
3. æ‰¾åˆ°ä½ çš„ç«™ç‚¹ï¼Œè®°ä¸‹ï¼š
   - ç«™ç‚¹IDï¼ˆå¦‚ï¼š`1`ï¼‰
   - ç«™ç‚¹åŸŸåï¼ˆå¦‚ï¼š`https://gamebox.example.com`ï¼‰
4. åç«¯APIåœ°å€é€šå¸¸ä¸ºï¼š`https://api.example.com`

### æ­¥éª¤2ï¼šé…ç½®ç¯å¢ƒå˜é‡

#### æ–¹å¼Aï¼šé€šè¿‡æ–‡ä»¶é…ç½®ï¼ˆæœ¬åœ°å¼€å‘ï¼‰

1. å¤åˆ¶ `.env.example` ä¸º `.env.local`
2. ä¿®æ”¹é…ç½®ï¼š

```bash
# ä¿®æ”¹ä¸ºä½ çš„åç«¯åœ°å€
NEXT_PUBLIC_API_URL=https://api.example.com

# ä¿®æ”¹ä¸ºä½ çš„ç«™ç‚¹ID
NEXT_PUBLIC_SITE_ID=1

# å¯é€‰ï¼šAPIå¯†é’¥
NEXT_PUBLIC_API_KEY=your-api-key
```

#### æ–¹å¼Bï¼šé€šè¿‡Cloudflare Pagesé…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

åœ¨Cloudflare Pagesé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
- `NEXT_PUBLIC_API_URL` = `https://api.example.com`
- `NEXT_PUBLIC_SITE_ID` = `1`
- `NEXT_PUBLIC_API_KEY` = `your-api-key`ï¼ˆå¯é€‰ï¼‰

### æ­¥éª¤3ï¼šè‡ªå®šä¹‰ç«™ç‚¹é…ç½®

ä¿®æ”¹ `src/config/site.ts`ï¼š

```typescript
export const siteConfig: SiteConfig = {
  name: 'æˆ‘çš„æ¸¸æˆç›’å­',                    // ğŸ”§ æ”¹æˆä½ çš„ç«™ç‚¹åç§°
  description: 'æœ€å…¨æ¸¸æˆæŠ˜æ‰£å¹³å°',         // ğŸ”§ æ”¹æˆä½ çš„æè¿°
  hostname: 'https://mygame.com',         // ğŸ”§ æ”¹æˆä½ çš„åŸŸå
  jumpDomain: 'https://download.com',     // ğŸ”§ ä¸‹è½½è·³è½¬åŸŸå
  logo: '/logo.svg',                      // ğŸ”§ ä½ çš„Logo
  favicon: '/favicon.ico',
  copyright: 'Copyright Â© 2025 MyGame',   // ğŸ”§ æ”¹æˆä½ çš„ç‰ˆæƒ
  author: {
    name: 'MyTeam',                       // ğŸ”§ æ”¹æˆä½ çš„å›¢é˜Ÿå
    url: 'https://mygame.com',
  },
}
```

## ï¿½ å¤šè¯­è¨€é…ç½®

### é…ç½®å¤šè¯­è¨€æ–‡æœ¬

é¡¹ç›®æ”¯æŒä¸‰ç§è¯­è¨€ï¼šç®€ä½“ä¸­æ–‡(zh-CN)ã€ç¹ä½“ä¸­æ–‡(zh-TW)ã€è‹±æ–‡(en)ã€‚

#### æ–¹å¼1ï¼šå•è¯­è¨€å­—ç¬¦ä¸²
```typescript
// src/config/pages/home.ts
export const homeConfig: HomePageConfig = {
  hero: {
    badge: '2025 å…¨ç½‘æ¸¸æˆç›’å­èšåˆå¹³å°',  // ç®€å•å­—ç¬¦ä¸²
  }
}
```

#### æ–¹å¼2ï¼šå¤šè¯­è¨€å¯¹è±¡
```typescript
export const homeConfig: HomePageConfig = {
  hero: {
    badge: {
      'zh-CN': '2025 å…¨ç½‘æ¸¸æˆç›’å­èšåˆå¹³å°',
      'zh-TW': '2025 å…¨ç¶²éŠæˆ²ç›’å­èšåˆå¹³å°',
      'en': '2025 All-in-One Game Box Platform',
    },
    description: {
      'zh-CN': [
        'æ±‡é›† 50+ ä¸»æµæ¸¸æˆç›’å­ï¼Œä¸€é”®å¯¹æ¯”é¦–å……ç»­å……æŠ˜æ‰£ã€‚',
        'ä¸èŠ±å†¤æ‰é’±ï¼Œç©è½¬æœ€å¼ºç¦åˆ©ç‰ˆã€‚',
      ],
      'zh-TW': [
        'åŒ¯é›† 50+ ä¸»æµéŠæˆ²ç›’å­ï¼Œä¸€éµå°æ¯”é¦–å……çºŒå……æŠ˜æ‰£ã€‚',
        'ä¸èŠ±å†¤æ‰éŒ¢ï¼Œç©è½‰æœ€å¼·ç¦åˆ©ç‰ˆã€‚',
      ],
      'en': [
        'Aggregating 50+ mainstream game boxes.',
        'Save money, enjoy the best benefits.',
      ],
    },
  }
}
```

### æ·»åŠ ç¿»è¯‘æ–‡æœ¬

ç¼–è¾‘ `src/config/site/locales.ts`ï¼š

```typescript
export const locales: Record<Locale, LocaleConfig> = {
  'zh-CN': {
    name: 'ç®€ä½“ä¸­æ–‡',
    code: 'zh-CN',
    translations: {
      // å¯¼èˆª
      home: 'é¦–é¡µ',
      boxes: 'ç›’å­å¤§å…¨',
      // ... æ·»åŠ ä½ çš„ç¿»è¯‘
      myNewText: 'æˆ‘çš„æ–°æ–‡æœ¬',  // ğŸ‘ˆ æ·»åŠ è¿™é‡Œ
    }
  },
  'zh-TW': {
    translations: {
      myNewText: 'æˆ‘çš„æ–°æ–‡æœ¬',  // ğŸ‘ˆ ç¹ä½“ç‰ˆæœ¬
    }
  },
  'en': {
    translations: {
      myNewText: 'My New Text',  // ğŸ‘ˆ è‹±æ–‡ç‰ˆæœ¬
    }
  }
}
```

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```typescript
import { locales } from '@/config/site/locales'

export default function MyComponent({ locale }: { locale: Locale }) {
  const t = locales[locale].translations
  
  return (
    <div>
      <h1>{t.myNewText}</h1>
      <p>{t.readAbout} 5 {t.minutesRead}</p>
    </div>
  )
}
```

## ï¿½ğŸ¨ è‡ªå®šä¹‰UIæ ·å¼

### ä¿®æ”¹ä¸»é¢˜é¢œè‰²

ç¼–è¾‘ `tailwind.config.js`ï¼š

```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3B82F6',    // ğŸ”§ ä¸»è‰²è°ƒ
        secondary: '#8B5CF6',  // ğŸ”§ æ¬¡è¦é¢œè‰²
      }
    }
  }
}
```

### ä¿®æ”¹æ¨¡å—é…ç½®

ç¼–è¾‘ `src/config/modules.ts`ï¼Œé…ç½®ä¸åŒæ¨¡å—çš„æ˜¾ç¤ºæ ·å¼ã€‚

## ğŸ“¡ åç«¯æ¥å£è¯´æ˜

### éœ€è¦åç«¯æä¾›çš„å…¬å¼€API

æ‰€æœ‰æ¥å£éœ€æ”¯æŒä»¥ä¸‹è¯·æ±‚å¤´ï¼š
- `X-Site-Id`: ç«™ç‚¹ID
- `X-Api-Key`: APIå¯†é’¥ï¼ˆå¯é€‰ï¼‰

#### 1. æ–‡ç« æ¥å£

```
GET /gamebox/article/public/list
å‚æ•°ï¼špageNum, pageSize, categoryId, locale, siteId
è¿”å›ï¼šæ–‡ç« åˆ—è¡¨

GET /gamebox/article/public/detail
å‚æ•°ï¼šid, locale, siteId
è¿”å›ï¼šæ–‡ç« è¯¦æƒ…

GET /gamebox/article/public/search
å‚æ•°ï¼škeyword, pageNum, pageSize, siteId
è¿”å›ï¼šæœç´¢ç»“æœ

GET /gamebox/article/public/related
å‚æ•°ï¼šarticleId, limit, siteId
è¿”å›ï¼šç›¸å…³æ–‡ç« 
```

#### 2. åˆ†ç±»æ¥å£

```
GET /gamebox/category/public/list
å‚æ•°ï¼šcategoryType, parentId, locale, siteId
è¿”å›ï¼šåˆ†ç±»åˆ—è¡¨

GET /gamebox/category/public/tree
å‚æ•°ï¼šcategoryType, locale, siteId
è¿”å›ï¼šåˆ†ç±»æ ‘
```

#### 3. ç›’å­æ¥å£

```
GET /gamebox/box/public/list
å‚æ•°ï¼špageNum, pageSize, categoryId, locale, siteId
è¿”å›ï¼šç›’å­åˆ—è¡¨

GET /gamebox/box/public/detail
å‚æ•°ï¼šid, locale, siteId
è¿”å›ï¼šç›’å­è¯¦æƒ…

POST /gamebox/box/public/compare
Bodyï¼š{ boxIds: [1,2,3], siteId: 1 }
è¿”å›ï¼šå¯¹æ¯”æ•°æ®
```

#### 4. æ¸¸æˆæ¥å£

```
GET /gamebox/game/public/list
å‚æ•°ï¼špageNum, pageSize, categoryId, locale, siteId
è¿”å›ï¼šæ¸¸æˆåˆ—è¡¨

GET /gamebox/game/public/detail
å‚æ•°ï¼šid, locale, siteId
è¿”å›ï¼šæ¸¸æˆè¯¦æƒ…

GET /gamebox/game/public/search
å‚æ•°ï¼škeyword, siteId
è¿”å›ï¼šæœç´¢ç»“æœ
```

#### 5. ç«™ç‚¹é…ç½®æ¥å£

```
GET /gamebox/site/public/config
å‚æ•°ï¼šsiteId, locale
è¿”å›ï¼šç«™ç‚¹é…ç½®ä¿¡æ¯

GET /gamebox/site/public/locales
å‚æ•°ï¼šsiteId
è¿”å›ï¼šæ”¯æŒçš„è¯­è¨€åˆ—è¡¨
```

### å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£è¿”å›ç»Ÿä¸€æ ¼å¼ï¼š

```json
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "data": { ... },
  "total": 100
}
```

## ğŸ”„ ä½¿ç”¨APIå®¢æˆ·ç«¯

åœ¨é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨ï¼š

```typescript
import ApiClient from '@/lib/api'

// è·å–æ–‡ç« åˆ—è¡¨
const { data } = await ApiClient.getArticles({
  pageNum: 1,
  pageSize: 10,
  locale: 'zh-CN'
})

// è·å–æ–‡ç« è¯¦æƒ…
const article = await ApiClient.getArticleDetail(1, 'zh-CN')

// æœç´¢æ–‡ç« 
const results = await ApiClient.searchArticles('æ¸¸æˆ')
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Q1: APIè¯·æ±‚å¤±è´¥ï¼Œè·¨åŸŸé”™è¯¯ï¼Ÿ
A: éœ€è¦åœ¨åç«¯é…ç½®CORSï¼Œå…è®¸ä½ çš„åŸŸåè®¿é—®ã€‚

### Q2: ç«™ç‚¹IDæ€ä¹ˆè·å–ï¼Ÿ
A: åœ¨ç®¡ç†åå°çš„ç«™ç‚¹ç®¡ç†é¡µé¢ï¼Œæ¯ä¸ªç«™ç‚¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€IDã€‚

### Q3: å¦‚ä½•è°ƒè¯•APIï¼Ÿ
A: 
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹ Network æ ‡ç­¾
3. æ£€æŸ¥è¯·æ±‚URLå’Œå“åº”

### Q4: ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆï¼Ÿ
A: 
1. ç¡®ä¿æ–‡ä»¶åæ˜¯ `.env.local`
2. é‡å¯å¼€å‘æœåŠ¡å™¨ `npm run dev`
3. Cloudflare Pageséœ€è¦åœ¨è®¾ç½®ä¸­é…ç½®

### Q5: å¦‚ä½•åˆ‡æ¢ä¸åŒçš„åç«¯ï¼Ÿ
A: åªéœ€ä¿®æ”¹ `.env.local` ä¸­çš„ `NEXT_PUBLIC_API_URL` å’Œ `NEXT_PUBLIC_SITE_ID`

## ğŸ“¦ éƒ¨ç½²åˆ°Cloudflare Pages

1. å°†ä»£ç æ¨é€åˆ°GitHub
2. åœ¨Cloudflare Pagesåˆ›å»ºé¡¹ç›®
3. è¿æ¥GitHubä»“åº“
4. é…ç½®ç¯å¢ƒå˜é‡
5. è®¾ç½®æ„å»ºå‘½ä»¤ï¼š`npm run build`
6. è®¾ç½®è¾“å‡ºç›®å½•ï¼š`.next`
7. ç‚¹å‡»éƒ¨ç½²

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„Next-webé¡¹ç›®å·²ç»æˆåŠŸæ¥å…¥åç«¯ç³»ç»Ÿï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼
