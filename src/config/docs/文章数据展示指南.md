# å¦‚ä½•è®©æ–‡ç« æ•°æ®æ˜¾ç¤ºåœ¨ç½‘ç«™ä¸Š

## ğŸ“‹ å·²å®Œæˆçš„å·¥ä½œ

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä¸¤ä¸ªé¡µé¢æ¥å±•ç¤ºæ–‡ç« æ•°æ®ï¼š

1. **æ–‡ç« åˆ—è¡¨é¡µ**: `/articles` - æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« 
2. **æ–‡ç« è¯¦æƒ…é¡µ**: `/article/[id]` - æ˜¾ç¤ºå•ç¯‡æ–‡ç« çš„å®Œæ•´å†…å®¹

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### æ­¥éª¤1: ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œ

é¦–å…ˆç¡®ä¿åç«¯Spring BootæœåŠ¡å·²å¯åŠ¨ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆgame-boxï¼‰æ‰§è¡Œ
.\mvnw.cmd spring-boot:run -pl ruoyi-admin
```

æˆ–è€…ä½¿ç”¨VS Codeä»»åŠ¡ï¼š
- æŒ‰ `Ctrl+Shift+P`
- é€‰æ‹© "Tasks: Run Task"
- é€‰æ‹© "Spring Boot: å¯åŠ¨åç«¯"

### æ­¥éª¤2: é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `Next-web/.env.local` æ–‡ä»¶ï¼š

```env
# åç«¯APIåœ°å€ï¼ˆæ ¹æ®ä½ çš„åç«¯å®é™…è¿è¡Œåœ°å€é…ç½®ï¼‰
NEXT_PUBLIC_API_URL=http://localhost:8080

# ç«™ç‚¹ID
NEXT_PUBLIC_SITE_ID=default

# APIå¯†é’¥ï¼ˆå¦‚æœåç«¯å¯ç”¨äº†éªŒè¯ï¼Œéœ€è¦é…ç½®ï¼‰
# NEXT_PUBLIC_API_KEY=your-api-key
```

### æ­¥éª¤3: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
cd Next-web
pnpm dev
```

### æ­¥éª¤4: è®¿é—®æ–‡ç« é¡µé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

- **æ–‡ç« åˆ—è¡¨**: http://localhost:3000/articles
- **æ–‡ç« è¯¦æƒ…**: http://localhost:3000/article/1 ï¼ˆä½¿ç”¨æ–‡ç« IDè®¿é—®ï¼Œä¾‹å¦‚IDä¸º1ï¼‰

> ğŸ’¡ **æ³¨æ„**: æ–‡ç« è¯¦æƒ…é¡µä½¿ç”¨æ–‡ç« IDè®¿é—®ï¼Œæ ¼å¼ä¸º `/article/{æ–‡ç« ID}`

## ğŸ“Š é¡µé¢åŠŸèƒ½è¯´æ˜

### æ–‡ç« åˆ—è¡¨é¡µ (`/articles`)

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨ä»åç«¯APIè·å–æ–‡ç« åˆ—è¡¨
- âœ… æ˜¾ç¤ºæ–‡ç« å°é¢å›¾ç‰‡
- âœ… æ˜¾ç¤ºæ–‡ç« æ ‡é¢˜ã€æè¿°
- âœ… æ˜¾ç¤ºåˆ†ç±»æ ‡ç­¾
- âœ… æ˜¾ç¤ºæµè§ˆæ¬¡æ•°å’Œå‘å¸ƒæ—¶é—´
- âœ… å“åº”å¼ç½‘æ ¼å¸ƒå±€ï¼ˆæ¡Œé¢3åˆ—ã€å¹³æ¿2åˆ—ã€æ‰‹æœº1åˆ—ï¼‰
- âœ… æ‚¬åœæ•ˆæœå’ŒåŠ¨ç”»
- âœ… æ”¯æŒæš—è‰²æ¨¡å¼

**ä»£ç ä½ç½®ï¼š** `src/app/articles/page.tsx`

**APIè°ƒç”¨ï¼š**
```typescript
ApiClient.getArticles({
  pageNum: 1,
  pageSize: 20,
  locale: 'zh-CN'
})
```

### æ–‡ç« è¯¦æƒ…é¡µ (`/article/[id]`)

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ˜¾ç¤ºå®Œæ•´æ–‡ç« å†…å®¹ï¼ˆHTMLæ ¼å¼ï¼‰
- âœ… æ˜¾ç¤ºæ–‡ç« å°é¢ã€æ ‡é¢˜ã€æè¿°
- âœ… æ˜¾ç¤ºä½œè€…ã€å‘å¸ƒæ—¶é—´ã€æµè§ˆæ¬¡æ•°
- âœ… æ˜¾ç¤ºæ–‡ç« åˆ†ç±»æ ‡ç­¾
- âœ… æ˜¾ç¤ºæ–‡ç« æ ‡ç­¾ï¼ˆtagsï¼‰
- âœ… æ˜¾ç¤ºç›¸å…³æ–‡ç« æ¨è
- âœ… è¿”å›åˆ—è¡¨æŒ‰é’®
- âœ… SEOä¼˜åŒ–ï¼ˆåŠ¨æ€metaæ ‡ç­¾ï¼‰
- âœ… æ”¯æŒæš—è‰²æ¨¡å¼

**ä»£ç ä½ç½®ï¼š** `src/app/article/[slug]/page.tsx`

**APIè°ƒç”¨ï¼š**
```typescript
// è·å–æ–‡ç« è¯¦æƒ…ï¼ˆä½¿ç”¨IDï¼‰
ApiClient.getArticleDetail(id, 'zh-CN')

// è·å–ç›¸å…³æ–‡ç« 
ApiClient.getRelatedArticles(articleId, 6)
```

**è·¯ç”±å‚æ•°è¯´æ˜ï¼š**
- `[slug]` ç›®å½•åæ˜¯Next.jsçš„åŠ¨æ€è·¯ç”±è¯­æ³•
- å®é™…è®¿é—®æ—¶ä½¿ç”¨æ–‡ç« IDï¼š`/article/1`ã€`/article/2` ç­‰
- é¡µé¢ä¼šè‡ªåŠ¨è§£æIDå¹¶è·å–æ–‡ç« æ•°æ®

## ğŸ” æ•°æ®æµç¨‹è¯´æ˜

```
1. ç”¨æˆ·è®¿é—® /articles
   â†“
2. Next.js æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰
   â†“
3. è°ƒç”¨ ApiClient.getArticles()
   â†“
4. å‘é€è¯·æ±‚åˆ°åç«¯: GET http://localhost:8080/api/public/articles
   â†“
5. åç«¯ PublicApiController.getArticles() å¤„ç†è¯·æ±‚
   â†“
6. è¿”å›æ–‡ç« æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
   â†“
7. å‰ç«¯æ¸²æŸ“æ–‡ç« åˆ—è¡¨
   â†“
8. ç”¨æˆ·çœ‹åˆ°æ–‡ç« æ•°æ®
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

æ–‡ç« é¡µé¢ä½¿ç”¨äº†Tailwind CSSï¼Œæ‚¨å¯ä»¥è½»æ¾è‡ªå®šä¹‰æ ·å¼ï¼š

### ä¿®æ”¹æ–‡ç« å¡ç‰‡æ ·å¼

ç¼–è¾‘ `src/app/articles/page.tsx`ï¼Œæ‰¾åˆ°æ–‡ç« å¡ç‰‡éƒ¨åˆ†ï¼š

```tsx
<div className="group bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow">
  {/* ä¿®æ”¹è¿™é‡Œçš„classNameæ¥æ”¹å˜æ ·å¼ */}
</div>
```

### ä¿®æ”¹æ–‡ç« å†…å®¹æ ·å¼

æ–‡ç« å†…å®¹ä½¿ç”¨äº† `prose` ç±»ï¼ˆTailwind Typographyæ’ä»¶ï¼‰ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š

```tsx
<div className="prose prose-lg dark:prose-invert max-w-none mt-8">
  {/* æ–‡ç« å†…å®¹ */}
</div>
```

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### 1. é¡µé¢æ˜¾ç¤º"æš‚æ— æ–‡ç« æ•°æ®"

**å¯èƒ½åŸå› ï¼š**
- âŒ åç«¯æœåŠ¡æœªå¯åŠ¨
- âŒ APIåœ°å€é…ç½®é”™è¯¯
- âŒ æ•°æ®åº“ä¸­æ²¡æœ‰æ–‡ç« æ•°æ®
- âŒ CORSè·¨åŸŸé—®é¢˜

**è§£å†³æ–¹æ³•ï¼š**

```bash
# 1. æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
curl http://localhost:8080/api/public/articles?pageNum=1&pageSize=10

# 2. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
# æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰-> Consoleæ ‡ç­¾

# 3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚
# æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰-> Networkæ ‡ç­¾
# æŸ¥çœ‹APIè¯·æ±‚æ˜¯å¦æˆåŠŸ
```

### 2. æ–‡ç« è¯¦æƒ…é¡µ404é”™è¯¯

**å¯èƒ½åŸå› ï¼š**
- âŒ æ–‡ç« IDä¸å­˜åœ¨
- âŒ åç«¯æ¥å£è¿”å›é”™è¯¯

**è§£å†³æ–¹æ³•ï¼š**

```bash
# æµ‹è¯•æ–‡ç« è¯¦æƒ…æ¥å£
curl http://localhost:8080/api/public/articles/1

# å¦‚æœè¿”å›404æˆ–é”™è¯¯ï¼Œæ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”IDçš„æ–‡ç« 
```

### 3. å›¾ç‰‡æ— æ³•æ˜¾ç¤º

**å¯èƒ½åŸå› ï¼š**
- âŒ å›¾ç‰‡URLä¸æ­£ç¡®
- âŒ å›¾ç‰‡æœåŠ¡å™¨æœªé…ç½®CORS

**è§£å†³æ–¹æ³•ï¼š**

åœ¨ `next.config.js` ä¸­é…ç½®å›¾ç‰‡åŸŸåï¼š

```javascript
module.exports = {
  images: {
    domains: ['your-image-domain.com'],
  },
}
```

### 4. APIè¯·æ±‚è¶…æ—¶

**å¯èƒ½åŸå› ï¼š**
- âŒ åç«¯å“åº”æ…¢
- âŒ ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ³•ï¼š**

ç¼–è¾‘ `src/config/backend.ts`ï¼Œå¢åŠ è¶…æ—¶æ—¶é—´ï¼š

```typescript
export const backendConfig = {
  // ...
  timeout: 30000, // æ”¹ä¸º30ç§’
}
```

## ğŸ“ æ·»åŠ æ›´å¤šåŠŸèƒ½

### æ·»åŠ åˆ†é¡µåŠŸèƒ½

ç¼–è¾‘ `src/app/articles/page.tsx`ï¼š

```tsx
// æ·»åŠ searchParamså‚æ•°
export default async function ArticlesPage({
  searchParams,
}: {
  searchParams: { page?: string }
}) {
  const currentPage = parseInt(searchParams.page || '1')
  
  const { articles, total } = await ApiClient.getArticles({
    pageNum: currentPage,
    pageSize: 20,
    locale: 'zh-CN'
  })
  
  // æ·»åŠ åˆ†é¡µç»„ä»¶...
}
```

### æ·»åŠ åˆ†ç±»ç­›é€‰

```tsx
// è·å–åˆ†ç±»åˆ—è¡¨
const categories = await ApiClient.getCategories({
  categoryType: 'article',
  locale: 'zh-CN'
})

// æ ¹æ®åˆ†ç±»ç­›é€‰
const { articles } = await ApiClient.getArticles({
  categoryId: searchParams.category,
  pageNum: 1,
  pageSize: 20,
})
```

### æ·»åŠ æœç´¢åŠŸèƒ½

```tsx
// æœç´¢æ–‡ç« 
const { articles } = await ApiClient.searchArticles(
  searchParams.q || '',
  {
    pageNum: 1,
    pageSize: 20,
  }
)
```

## ğŸ¯ æµ‹è¯•æ­¥éª¤

### 1. æµ‹è¯•åç«¯API

```bash
# æµ‹è¯•æ–‡ç« åˆ—è¡¨æ¥å£
curl "http://localhost:8080/api/public/articles?pageNum=1&pageSize=10&siteId=default"

# æµ‹è¯•æ–‡ç« è¯¦æƒ…æ¥å£
curl "http://localhost:8080/api/public/articles/1?siteId=default"

# æµ‹è¯•ç›¸å…³æ–‡ç« æ¥å£
curl "http://localhost:8080/api/public/articles/1/related?limit=5&siteId=default"
```

### 2. æµ‹è¯•å‰ç«¯é¡µé¢

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`pnpm dev`
2. è®¿é—® http://localhost:3000/articles
3. æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨
4. ç‚¹å‡»ä»»æ„æ–‡ç« ï¼ŒæŸ¥çœ‹è¯¦æƒ…é¡µ
5. æ£€æŸ¥ç›¸å…³æ–‡ç« æ¨èæ˜¯å¦æ˜¾ç¤º

### 3. æµ‹è¯•å“åº”å¼å¸ƒå±€

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. ç‚¹å‡»è®¾å¤‡æ¨¡æ‹ŸæŒ‰é’®ï¼ˆResponsive Design Modeï¼‰
3. åˆ‡æ¢ä¸åŒè®¾å¤‡å°ºå¯¸ï¼ˆæ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢ï¼‰
4. æ£€æŸ¥å¸ƒå±€æ˜¯å¦æ­£å¸¸

## ğŸ“š ç›¸å…³æ–‡ä»¶

- **APIå®¢æˆ·ç«¯**: `src/lib/api.ts`
- **APIé…ç½®**: `src/config/backend.ts`
- **æ–‡ç« åˆ—è¡¨é¡µ**: `src/app/articles/page.tsx`
- **æ–‡ç« è¯¦æƒ…é¡µ**: `src/app/article/[slug]/page.tsx`ï¼ˆä½¿ç”¨IDè®¿é—®ï¼‰
- **404é¡µé¢**: `src/app/article/[slug]/not-found.tsx`
- **åç«¯æ§åˆ¶å™¨**: `ruoyi-gamebox/src/main/java/com/ruoyi/gamebox/controller/PublicApiController.java`

## ğŸ‰ å®Œæˆï¼

ç°åœ¨æ‚¨å·²ç»å¯ä»¥åœ¨ç½‘ç«™ä¸Šçœ‹åˆ°æ–‡ç« æ•°æ®äº†ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒä¸Šé¢çš„æ’æŸ¥æ­¥éª¤ã€‚
